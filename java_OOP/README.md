## オブジェクト指向設計

### オブジェクト指向プログラミング (OOP)

オブジェクト指向プログラミング（OOP）は、プログラムをオブジェクト（状態と振る舞いを持つ要素）として設計する手法です。これは、ゲームのキャラクターや自動車などの「もの」をプログラムに作り出し、それらが相互作用することで全体を構築するという考え方です。

### 契約

クラスがどのように動作すべきか、またはどのようにやりとりできるかを定義するルールやプロトコルです。

## 関連と継承

### 関係の種類

- **関連（association）**: 二つの異なるクラス間の関係
  - **双方向性**: 二つのクラスが互いにアクセスできる
  - **単方向性**: 一つのクラスのみが他のクラスにアクセスできる
- **集約（aggregation）**: クラス A がその状態の一部としてクラス B を含む
- **コンポジション（composition）**: 集約の特殊形態で、集約されたオブジェクトが親オブジェクトに依存する
- **継承（inheritance）**: あるクラスが別のクラスの機能を引き継ぐ

### 多重度

あるオブジェクトが関わる他のオブジェクトの数を示すものです。

### 依存関係

あるクラス A がクラス B に依存し、クラス B の変更がクラス A に影響を及ぼす可能性がある状況を指します。

### 依存性注入 (DI)

必要なオブジェクトを外部から渡すことで依存関係を明示する方法です。これにより、コードの理解性とメンテナンス性が向上します。

### 制御の反転 (IoC)

プログラムの制御フローをフレームワークなどの外部に委任することで、個々のコンポーネントに焦点を当てて開発できます。

### ポリモーフィズム

多様な形を取ることができ、サブクラスがスーパークラスのメソッドや変数を継承します。これにより、プログラムのコンパイラがサブクラスの機能を事前にチェックできます。

### キャスティング

特定のクラスのインスタンスをスーパークラスに割り当てることです。`instance of`キーワードを使ってオブジェクトのクラスを確認します。

### 抽象クラス

一部または全てのメソッドが未実装のクラスです。直接インスタンス化はできず、具象クラスに継承されます。

### インターフェース

オブジェクトが実装しなければならない一連の振る舞いを定義します。インターフェースには抽象メソッドのみが含まれ、それらを実装するクラスで使用されます。インターフェースは契約ベースの関係を持ちます。

## オブジェクト指向設計の基本原則

1. 抽象クラスは `abstract` キーワードを使い、一部のメソッドが未実装です。
2. 抽象クラスから直接オブジェクトは作成できず、具象クラスが必要です。
3. 抽象クラスで状態とコンストラクタを定義でき、サブクラスがアクセス可能にするために `protected` とします。
4. 抽象メソッドがない抽象クラスも可能です。
5. 具象クラスがすべての抽象メソッドを実装しない場合、そのクラスも抽象クラスとなります。
6. 具象クラスを継承し、抽象メソッドを定義することでサブクラスを抽象クラスにできます。
