# DML

## DML（Data Manipulation Language | データ操作言語)

データベースにおいての CRUD（Create・Read・Update・Delete）処理を行うために使用

- SELECT 文（データの検索・抽出）
- INSERT 文（データの追加）
- UPDATE 文（データの更新）
- DELETE 文（データの削除）

## データの指定(SELECT/FROM)
SELECT 句は、出力する項目を指定することができる文法  

### SELECT
※ テーブル形式で出力される
```
mysql> SELECT 1, 2;
+---+---+
| 1 | 2 |
+---+---+
| 1 | 2 |
+---+---+
1 row in set (0.00 sec)

mysql>
```
### FROM
FROM 句は、入力になるテーブルを指定することができる文法  

SELECT と組み合わせれば、入力と出力をコントロールすることができます。例えば、「FROM で指定した入力テーブルに存在するカラムの内、表示したいカラムを SELECT で指定する」といった使い方ができます。  



## データの抽出(WHERE)
### WHERE
入力テーブルから条件に合うレコードのみを抽出することができる文法。SELECT, FROM と組み合わせれば、入力テーブルから条件に合うレコードのみを出力することができます。  

#### 内部の処理
- 一行目のレコードを見て、WHERE 句を評価します。
- WHERE 句の評価が true であればその行は出力され、false であればその行は出力されません。
- 一行目のレコードの評価が完了したので、二行目のレコードへと移ります。
- 上記を繰り返します。

## SQL演算子(比較/論理)
WHERE句で指定できる条件

### 比較演算子
二つの式や値の比較を行い、結果を真偽値（true または false）で返す演算子  

- =（等しい）
- <>（等しくない）
- >（より大きい）  
  >>=（以上）  
  >><（より小さい）  
  >><=（以下）  

### 論理演算子
真偽値に対して演算を行い、結果として真偽値を返す演算子  

- NOT（否定）
- AND（論理積）
- OR（論理和）

### その他の特別条件
- IN（列挙してる値のいずれかを含む）
- BETWEEN（数値が～以上～以下である）
- LIKE（指定された文字列を含む）
- IS NULL（NULL 値である）
- IS NOT NULL（NULL 値でない）

※ SQL上のNULLの扱い  
- NULLと一緒に比較演算子は使用できない。`IS NULL` や `IS NOT NULL` を使用して比較する。
- NULL値は他の値(NULLを含む)との比較で `true` になることはない。NULLを含めた比較演算子は全てNULLを返す。-> 0 や NULL は false を意味するため、最終的な出力は Empty Set となるため意味のない出力となる。

## SQL演算子(NOT/IN)
### IN
IN 句は、列挙している値のいずれかを含む場合、true を返し、それ以外の場合、false を返します。  

- 例: `SELECT * FROM products WHERE price IN (100000, 200000);`
  - 1 行目のレコードについて、WHERE price IN (10000,20000) を評価していきます。
  - 内部にて、WHERE price = 10000 OR price = 20000 に展開されます。
  - それぞれの比較演算が評価され、WHERE 真偽値 OR 真偽値 になります。
  - この WHERE 句の結果が true であれば、1 行目のレコードを出力します。
  - 次のレコードへ

※ IN区を使用する際、NULLをINの候補地に含めることはできない。

### NOT IN
列挙している値のいずれも含まない場合 true を返す。処理の順番としては、まず IN 句が処理されます。その後、IN 句の出力で得られた真偽値と NOT を組み合わせて評価します。

## SQL演算子(BETWEEN/LIKE/IS)
### BETWEEN
BETWEEN 句は、指定された二つの値の間に入っている場合、true を返し、それ以外の場合、false を返します。

### LIKE
LIKE 句は、指定された文字列が含まれている場合、true を返し、それ以外の場合、false を返します。
- %: ワイルドカード(任意の文字列を指定することができる。LIKEと組み合わせることで部分一致をを表現できる)
  - 前方一致: `search_word%`
  - 後方一致: `%search_word`
  - 部分一致: `%search_word%`
  - 中間一致: `_%search_word%_`











