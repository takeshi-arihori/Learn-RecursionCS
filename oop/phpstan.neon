parameters:
    level: 8
    paths:
        - src
        - tests
    
    # 除外するパス
    excludePaths:
        - tests/bootstrap.php
    
    # PHPUnit関連の設定
    bootstrapFiles:
        - vendor/autoload.php
    
    # エラーを無視するパターン
    ignoreErrors:
        # テストファイルでの未使用変数を許可
        - '#Variable \$\w+ is never read, only written#'
        # テストファイルでのアサーション後の到達不可能コードを許可  
        - '#Unreachable statement - code above always terminates#'
        # 未実装クラスのエラーを一時的に無視（動物クラス実装まで）
        - '#Class "App\\Models\\Animal\\(Cow|Horse|Chicken)" not found#'
        - '#Instantiated class App\\Models\\Animal\\(Cow|Horse|Chicken) not found#'
        - '#Call to method .* on an unknown class App\\Models\\Animal\\(Cow|Horse|Chicken)#'
        # Deprecated設定の代替
        -
            identifier: missingType.iterableValue
        -
            identifier: missingType.generics
    
    # 型推論の改善
    inferPrivatePropertyTypeFromConstructor: true
    
    # strict_types=1 の強制
    treatPhpDocTypesAsCertain: false
